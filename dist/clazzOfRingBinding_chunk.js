webpackJsonp([138],{1133:function(e,t){},316:function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(41),l=i(a),s=n(42),r=i(s),o=n(43),u=i(o),d=n(44),c=i(d),m=n(7),f=i(m);n(1133);var v,h=function(e){function t(e){(0,l.default)(this,t);var n=(0,u.default)(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return v=n,n.state={},n}return(0,c.default)(t,e),(0,r.default)(t,[{key:"componentWillMount",value:function(){var e=decodeURI(window.location.href),t=e.substr(e.indexOf("?")+1),n=t.split("&"),i=n[0].split("=")[1];this.setState({ident:i})}},{key:"componentDidMount",value:function(){Bridge.setShareAble("false"),document.title="手环绑定学生班级列表",this.getClazzesByUserId(this.state.ident)}},{key:"getClazzesByUserId",value:function(e){var t=this,n={method:"searchClazzByUserId",userId:e,keyWord:""};WebServiceUtil.requestLittleAntApi(JSON.stringify(n),{onResponse:function(e){"调用成功"!=e.msg&&1!=e.success||0==WebServiceUtil.isEmpty(e.response)&&t.setState({listData:e.response})},onError:function(e){message.error(e)}})}},{key:"turnToRingBindPage",value:function(e,t){var n=encodeURI(WebServiceUtil.mobileServiceURL+"bindingBracelet?clazzId="+e+"&clazzName="+t+"&uid="+v.state.ident),i={method:"openNewPage",url:n};Bridge.callHandler(i,null,function(e){window.location.href=n})}},{key:"render",value:function(){var e=[],t=this.state.listData;for(var n in t)e.push(f.default.createElement("li",{className:"am-list-item am-list-item-middle",onClick:this.turnToRingBindPage.bind(this,t[n].id,t[n].name)},f.default.createElement("div",{className:"am-list-line"},f.default.createElement("div",{className:"am-list-content"},t[n].name),f.default.createElement("div",{className:"am-list-arrow am-list-arrow-horizontal"}))));return f.default.createElement("div",{id:"clazzDutyList",style:{height:document.body.clientHeight,overflow:"auto"}},f.default.createElement("div",{className:"noticeMsg_common"},"请在列表中选择班级进行设置"),f.default.createElement("ul",null,e))}}]),t}(f.default.Component);t.default=h}});